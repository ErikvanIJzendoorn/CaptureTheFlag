{% load static %}
{% include 'base.html' %}

<head>
    <title>Toernooi inzien</title>
    <link href="{% static 'css/InzienToernooi.css' %}" rel="stylesheet" />
    <script type="text/javascript" src="{% static "js/ModifyQuestion_script.js" %}"></script>
</head>
<body>

    {% include 'Navbar/admin_navbar.html' %}
      <h1>Toernooi overzicht</h1>
    <h4><u>Toernooicode </u><br />{{tournament.toernooicode}}</h4>
  <div class="container-main">
      <div class="container-left col-7">
          <div class="container-left-top">
              <!-- VRAGEN -->
              <div class="content content-vragen">
                <h5>Vragen</h5>
                <p>Maak hier nieuwe vragen of wijzig de bestaande.</p>

                <div class="btn_container-vraag"> <!---->
                    <a class="btn btn-green btn-vraag" href="{%url 'createVraag' %}">Aanmaken</a>
                    <a class="btn btn-green btn-vraag" href="{% url 'viewVragen' %}">Wijzigen</a>
                </div>
              </div>
                <div class="container-control-btn">
                    <a class="btn btn-warning btn-control" href="{%url 'controlPanel' tournament.toernooicode  %}">Control panel</a>
                </div>
          </div>
          <div class="container-left-bottom">
              <!--RONDES -->
              <div class="content">
                <h5>Rondes</h5>
                <p>Maak nieuwe rondes aan of wijzige de huidige.</p>
                <div class="btn-new-ronde">
                    <a class="btn btn-green" href="{%url 'createRonde' tournament.toernooicode %}">Nieuwe ronde aanmaken</a>
                </div>
                <div class="container-table">
                    <table class="table-rondes">
                        <tr>
                            <th>#</th>
                            <th>Duratie</th>
                            <th id="th3"></th>
                        </tr>
                        {% for ronde in rondes %}
                            <tr>
                                <td>Ronde {{ ronde.rondenummer }}  </td>
                                <td>{{ ronde.duratie }} minuten</td>
                                <td ><a class="btn btn-green" href="{%url 'EditRound' tournament.toernooicode ronde.id  %}">Wijzigen</a></td>
                            </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
            <div class="container-transfer-tournament">
	            <a class="btn btn-danger transfer-tournament" href="{%url 'toernooibeheerderWijzigen' tournament.toernooicode %}">Toernooibeheer overdragen</a>
            </div>
          </div>
      </div>
      <div class="container-right col-5">
          <!-- TEAMS -->
          <div class="content">
            <h5>Teams</h5>
                <p>Hier kan je alle huidige teams van dit toernooi zien.</p>
                <div class="container-users">
                     <ol>
                        {% for team in teams %}
                            <li>Teamcode: &emsp; {{ team.teamcode }}</li>
                        {% endfor %}
                    </ol>
                </div>    
                {% if teams.count < 1 %}
                    <p>Dit toernooi heeft nog geen teams.</p>
                {% endif %}
                <div class="container-team-bottom">
                        <form method="post" id="form-team-input">
                            {% csrf_token %}
                            <label class="form-label">Aantal teams: </label>
                            {{ form.team_amount }}
                        </form>
                    <input type="submit" value="Toevoegen" form="form-team-input" class="btn btn-green btn-team-toevoegen">
                    {% if teams.count >= 1 %}
                    <div class="btn-remove-team">
                        <button class="btn btn-danger" onclick="window.location='{% url 'teamVerwijderen' tournament.toernooicode %}'">Verwijder laatste team</button>
                    </div>
                    {% endif %}
                </div>
          </div>
          <!-- SCHEIDRECHTERS -->
          <div class="content">
                <h5>Scheidsrechters</h5>
                <p>Hier kan je scheidsrechters toevoegen/verwijderen.</p>
                Aangewezen scheidsrechters:
              <div class="container-users">              
                  <ul>
                    {% for scheidsrechter in scheidsrechters %}
                        <li>{{ scheidsrechter.username }}</li>
                    {% endfor %}
                  </ul>
              </div>  

                <div class="container-btn-scheids">
                    <a class="btn btn-green btn-scheids" href="{%url 'scheidsrechterToevoegen' tournament.toernooicode %}">Beheren</a>
                </div>
            </div>
      </div>
  </div>
</body>
<script>
    $(function() {
        var input = document.getElementById('id_team_amount');
        input.value = 0;
    });
</script>